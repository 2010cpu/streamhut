{"version":3,"sources":["../node_modules/gun sync","Clipboard.js","HelpTooltip.js","MaxWidthContainer.js","Header.js","DragAndDrop.js","Tag.js","Home.js","Footer.js","Layout.js","App.js","serviceWorker.js","index.js"],"names":["webpackEmptyContext","req","e","Error","code","keys","resolve","module","exports","id","Clipboard","event","target","trigger","textContent","classList","add","setTimeout","remove","_this","this","react_default","a","createElement","react_clipboard_default","className","props","title","data-clipboard-text","clipboardText","onSuccess","onClipboardCopy","Component","HelpTooltip","Tooltip_default","text","aria-label","HelpOutline_default","style","iconStyle","MaxWidthContainer","children","Header","currentTarget","select","src_MaxWidthContainer","src","alt","classes","root","backgroundColor","color","fontSize","Fragment","src_HelpTooltip","type","placeholder","readOnly","value","shareUrl","onClick","shareUrlHandler","src_Clipboard","href","rel","DragAndDrop","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","state","drag","dragCounter","preventDefault","stopPropagation","dataTransfer","items","length","setState","files","handleDrop","clearData","_this2","el","document","body","addEventListener","handleDragIn","handleDragOut","handleDrag","_this3","removeEventListener","position","top","left","width","height","display","justifyContent","alignItems","border","background","padding","Tag","Chip_default","label","onDelete","gun","Gun","changeFavicon","uri","link","oldLink","getElementById","head","removeChild","appendChild","updateWindowTitle","hidden","resetWindowTitle","get","_callee3","key","regenerator_default","wrap","_context3","prev","next","abrupt","Promise","on","data","stop","put","defineProperty","Home","file","messages","window","location","fullScreen","queuedFiles","fsUrl","search","substr","split","map","x","reduce","obj","setFullScreen","p","pathname","q","randomstring","generate","charset","capitalization","readable","concat","output","React","createRef","fileInput","terminalRef","blob","Blob","reader","FileReader","arrayBuffer","result","sendArrayBuffer","readAsArrayBuffer","handleInput","handleFile","addFilesToQueue","_loop","i","console","log","v","mime","_ret","clearFilesQueue","_this4","ws","_window$location","host","protocol","wsurl","WebSocket","binaryType","createWs","querySelector","handleIncomingMessage","readCachedMessages","count","k","msg","abWithMime","arrayBufferWithMime","send","json","JSON","parse","__server_message__","logMessage","createDocumentFragment","arrayBufferMimeDecouple","term","Terminal","convertEol","scrollback","disableStdin","cursorBlink","termNode","open","fit","_this5","TextDecoder","decode","Uint8Array","write","ext","join","replace","url","URL","createObjectURL","onload","readAsText","t","message","size","push","scrollToMessages","scrollTo","current","offsetTop","element","test","controls","controlers","linked","hyperlinkify","dangerouslySetInnerHTML","__html","filename","Date","now","download","toString","shiftKey","handleSubmit","list","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","done","err","return","removeFileFromQueue","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","entries","_ref3","_ref2","slicedToArray","name","splice","_this6","renderMessage","src_Header","with","maxHeight","ref","onSubmit","rows","cols","onKeyPress","handleKeyPress","onChange","marginBottom","multiple","handleFileInputChange","src_Tag","onFileRemove","src_DragAndDrop","Footer","year","moment","index_es","Layout","src_Footer","App","src_Layout","src_Home","Boolean","hostname","match","ReactDOM","render","src_App","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.64c62747.chunk.js","sourcesContent":["function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 3748;","import React, { Component } from 'react'\nimport ClipboardJS from 'react-clipboard.js'\n\nclass Clipboard extends Component {\n  onClipboardCopy(event) {\n    const target = event.trigger\n    target.textContent = 'copied!'\n    target.classList.add('copied')\n\n    setTimeout(function() {\n      target.textContent = 'copy'\n      target.classList.remove('copied')\n    }, 3e3)\n  }\n\n  render() {\n    return (\n      <ClipboardJS\n        className={this.props.className || 'copy'}\n        id={this.props.id}\n        title=\"Copy to clipboard\"\n        data-clipboard-text={this.props.clipboardText}\n        onSuccess={event => this.onClipboardCopy(event)}>\n        copy\n      </ClipboardJS>\n    )\n  }\n}\n\nexport default Clipboard;\n","import React, { Component } from 'react'\nimport Tooltip from '@material-ui/core/Tooltip'\nimport HelpIcon from '@material-ui/icons/HelpOutline';\n\nclass HelpTooltip extends Component {\n  render() {\n    return (\n      <Tooltip\n        className=\"help-tooltip\"\n        title={this.props.text}\n        aria-label={this.props.text}>\n        <HelpIcon style={this.props.iconStyle} />\n      </Tooltip>\n    )\n  }\n}\n\nexport default HelpTooltip;\n","import React, { Component } from 'react'\n\nclass MaxWidthContainer extends Component {\n  render() {\n    return (\n        <div className=\"max-width-container\">\n          {this.props.children}\n        </div>\n    )\n  }\n}\n\nexport default MaxWidthContainer\n","import React, { Component } from 'react'\nimport Clipboard from './Clipboard'\nimport HelpTooltip from './HelpTooltip'\nimport Tooltip from '@material-ui/core/Tooltip'\nimport MaxWidthContainer from './MaxWidthContainer'\n\nclass Header extends Component {\n  shareUrlHandler(event) {\n    event.currentTarget.select()\n  }\n\n  onClipboardCopy(event) {\n    const target = event.trigger\n    target.textContent = 'copied!'\n\n    setTimeout(function() {\n      target.textContent = 'copy'\n    }, 3e3)\n  }\n\n  render() {\n    return (\n        <header id=\"header\">\n          <MaxWidthContainer>\n            <hgroup>\n              <h1>\n                <img\n                  src=\"/assets/streamhut_bb.png\"\n                  alt=\"Streamhut\" />\n\n                  <Tooltip\n                    classes={{\n                      root: {\n                        backgroundColor: '#ffffff',\n                        color: 'rgba(0, 0, 0, 0.87)',\n                        fontSize: 14,\n                    }\n                    }}\n                    title={\n                      <React.Fragment>\n                        <div>\n                          <ul>\n                            <li>Stream and send data; web to web, terminal to web, or web to terminal.</li>\n                            <li>Nothing is stored, only streamed.</li>\n                            <li>Refreshing the page or closing tab will erase local data.</li>\n                            <li>Quickly share data and files between devices.</li>\n                            <li>URL path names map to channels.</li>\n                            <li>Anyone in the same channel can view what's streamed.</li>\n                          </ul>\n                        </div>\n                      </React.Fragment>\n                    }\n                  >\n                    <div style={{\n                      fontSize: '0.3em'\n                    }}>What is this?</div>\n                  </Tooltip>\n\n              </h1>\n              <div className=\"channel\">\n                <label>Channel URL\n                  <HelpTooltip\n                    text=\"Share this URL for others to join and see your messages\"\n                    iconStyle={{fontSize: '1.4em'}} />\n                </label>\n                <input\n                  id=\"share-url\"\n                  type=\"text\"\n                  placeholder=\"share url\"\n                  readOnly\n                  value={this.props.shareUrl}\n                  onClick={event => this.shareUrlHandler(event)}/>\n                <Clipboard\n                  clipboardText={this.props.shareUrl} />\n              </div>\n\n              <div className=\"info\">\n                <div>\n                  <ul>\n                    <li>CLI examples:</li>\n                    <li>Tail: $<code>tail -F file.log | nc streamhut.io 1337</code></li>\n                    <li>Tee: $<code>(echo -n; sleep 5; htop) | tee >(nc streamhut.io 1337)</code></li>\n                    <li>Pipe shell: $<code>exec > >(nc streamhut.io 1337) 2>&1</code></li>\n                    {/*\n                    <li>Echo: <code>$ echo 'foo' | streamhut post -h streamhut.io -c mychannel</code></li>\n                    <li>File: <code>$ streamhut post -h streamhut.io -c mychannel -f data.txt</code></li>\n                    */}\n                    <li><a href=\"https://github.com/miguelmota/streamhut\" target=\"_blank\" rel=\"noopener noreferrer\">Developer documentation</a> | <a href=\"https://github.com/miguelmota/streamhut/issues/new\" target=\"_blank\" rel=\"noopener noreferrer\">Feedback</a></li>\n                  </ul>\n                </div>\n              </div>\n            </hgroup>\n          </MaxWidthContainer>\n        </header>\n    )\n  }\n}\n\nexport default Header;\n","import React, { Component } from 'react'\n\nclass DragAndDrop extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      drag: false\n    }\n\n    this.dragCounter = 0\n  }\n\n  handleDrag(event) {\n    event.preventDefault()\n    event.stopPropagation()\n  }\n\n  handleDragIn(event) {\n    event.preventDefault()\n    event.stopPropagation()\n\n    this.dragCounter++\n\n      if (event.dataTransfer.items &&\n      event.dataTransfer.items.length > 0) {\n        this.setState({drag: true})\n      }\n  }\n\n  handleDragOut(event) {\n    event.preventDefault()\n    event.stopPropagation()\n\n    this.dragCounter--\n\n    if (this.dragCounter === 0) {\n      this.setState({drag: false})\n    }\n  }\n\n  handleDrop(event) {\n    event.preventDefault()\n    event.stopPropagation()\n\n    this.setState({drag: false})\n\n    if (event.dataTransfer.files &&\n    event.dataTransfer.files.length > 0) {\n      this.props.handleDrop(event.dataTransfer.files)\n      event.dataTransfer.clearData()\n      this.dragCounter = 0\n    }\n  }\n\n  componentDidMount() {\n    let el = document.body\n    el.addEventListener('dragenter', event => this.handleDragIn(event))\n    el.addEventListener('dragleave', event => this.handleDragOut(event))\n    el.addEventListener('dragover', event => this.handleDrag(event))\n    el.addEventListener('drop', event => this.handleDrop(event))\n  }\n\n  componentWillUnmount() {\n    let el = document.body\n    el.removeEventListener('dragenter', event => this.handleDragIn(event))\n    el.removeEventListener('dragleave', event => this.handleDragOut(event))\n    el.removeEventListener('dragover', event => this.handleDrag(event))\n    el.removeEventListener('drop', event => this.handleDrop(event))\n  }\n\n  render() {\n    return (\n        <div>\n        {this.state.drag &&\n          <div\n            style={{\n              position: 'fixed',\n              top: 0,\n              left: 0,\n              width: '100%',\n              height: '100%',\n              display: 'flex',\n              justifyContent: 'center',\n              alignItems: 'center',\n              color: '#000',\n              border: '4px dashed #0075ff',\n              background: 'rgba(255, 255, 255, 0.7)'\n            }}\n          >\n            <div\n              style={{\n                border: '4px dashed #0075ff',\n                fontSize: '2em',\n                padding: '1em'\n              }}>\n              Drop file here\n            </div>\n          </div>\n        }\n        {this.props.children}\n      </div>\n    )\n  }\n}\nexport default DragAndDrop\n","import React, { Component } from 'react'\nimport Chip from '@material-ui/core/Chip';\n\nclass Tag extends Component {\n  render() {\n    return (\n      <Chip\n        label={this.props.text}\n        onDelete={this.props.onDelete}\n      />\n    )\n  }\n}\n\nexport default Tag\n","import React, { Component } from 'react'\nimport hyperlinkify from 'hyperlinkify'\nimport {\n  arrayBufferWithMime,\n  arrayBufferMimeDecouple\n} from 'arraybuffer-mime'\n\nimport Gun from 'gun'\nimport Header from './Header'\nimport Clipboard from './Clipboard'\nimport MaxWidthContainer from './MaxWidthContainer'\nimport DragAndDrop from './DragAndDrop'\nimport Tag from './Tag'\nimport randomstring from 'randomstring'\n\nconst gun = Gun('ws://localhost:8765/gun')\n\nfunction createWs() {\n    const {pathname, host, protocol}  = window.location\n    let wsurl = `${protocol === 'https:' ? `wss` : `ws`}://${host}${pathname}`\n    //let wsurl = `ws://localhost:3001${pathname}`\n    const ws = new WebSocket(wsurl)\n    ws.binaryType = 'arraybuffer'\n\n    return ws\n}\n\nfunction getUrlParams() {\n    return window.location.search.substr(1).split('&')\n      .map(x => x.split('='))\n      .reduce((obj, x) => {\n        obj[x[0]] = x[1]\n        return obj\n      }, {})\n}\n\nfunction changeFavicon (uri) {\n  const link = document.createElement('link')\n  const oldLink = document.getElementById('favicon')\n\n  link.id = 'favicon'\n  link.rel = 'icon'\n  link.href = uri\n\n  if (oldLink) {\n    document.head.removeChild(oldLink)\n  }\n\n  document.head.appendChild(link)\n}\n\nfunction updateWindowTitle () {\n  if (document.hidden) {\n    newMessageWindowTitle()\n  } else {\n    resetWindowTitle()\n  }\n}\n\nfunction resetWindowTitle() {\n  changeFavicon('/favicon.ico')\n  document.title = 'Streamhut'\n}\n\nfunction newMessageWindowTitle() {\n  changeFavicon('/favicon_alert.ico')\n  document.title = '(new message) Streamhut'\n}\n\ndocument.addEventListener('visibilitychange', () => {\n  if (!document.hidden) {\n    resetWindowTitle()\n  }\n}, false)\n\nasync function get(key) {\n  return new Promise((resolve) => {\n    gun.get(key).on((data, key) => {\n      resolve(data)\n    })\n  })\n}\n\nfunction put(key, value) {\n  gun.get(key).put({[key]: value})\n}\n\nfunction genRandString() {\n  return randomstring.generate({\n    length: 3,\n    charset: 'alphabetic',\n    capitalization: 'lowercase',\n    readable: true\n  })\n}\n\nclass Home extends Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      text: '',\n      file: null,\n      messages: [],\n      shareUrl: window.location.href,\n      fullScreen: false,\n      queuedFiles: [],\n      fsUrl: '',\n    }\n\n    const urlParams = getUrlParams()\n    if ('f' in urlParams) {\n      this.setFullScreen()\n    }\n\n    let p = window.location.pathname\n    let q = window.location.search\n\n    if (p === '/') {\n      window.location.href = '/' + genRandString()\n    }\n\n    this.state.fsUrl = `${p}${q}${q.length ? '&' : '?'}f=1`\n\n    this.output = React.createRef()\n    this.fileInput = React.createRef()\n    this.terminalRef = React.createRef()\n  }\n\n  setFullScreen() {\n    document.body.classList.add('fullscreen')\n  }\n\n  handleInput() {\n    const { text } = this.state\n    if (text) {\n      const mime = 'text/plain'\n      const blob = new Blob([text], {type: mime})\n      const reader = new FileReader()\n\n      reader.addEventListener('load', (event) => {\n        const arrayBuffer = reader.result\n        this.sendArrayBuffer(arrayBuffer, mime)\n      })\n\n      reader.readAsArrayBuffer(blob)\n      this.setState({text: ''})\n    }\n  }\n\n  handleSubmit(event) {\n    event.preventDefault()\n\n    // text stream\n    this.handleInput()\n\n    // file upload\n    this.handleFile()\n\n    this.setState({\n      text: '',\n    })\n  }\n\n  handleFileInputChange(event) {\n    event.preventDefault()\n\n    this.addFilesToQueue(event.target.files)\n  }\n\n  handleFile() {\n    const files = this.state.queuedFiles\n    for (let i = 0; i < files.length; i++) {\n      const file = files[i]\n      console.log(`file:`, file, file.type)\n      if (!file) return\n\n      const reader = new FileReader()\n\n      const readFile = (event) => {\n        const arrayBuffer = reader.result\n        const mime = file.type\n        this.sendArrayBuffer(arrayBuffer, mime)\n      }\n\n      reader.addEventListener('load', readFile)\n      reader.readAsArrayBuffer(file)\n    }\n\n    this.clearFilesQueue()\n  }\n\n  componentDidMount() {\n    this.ws = createWs()\n\n    const connectionsLog = document.querySelector(`#connections`)\n\n    function logMessage(data) {\n      console.log(\"OFOOO\")\n      connectionsLog.innerHTML = JSON.stringify(data, null, 2)\n    }\n\n    this.ws.addEventListener('message', event => {\n      this.handleIncomingMessage(event)\n    })\n\n    this.ws.addEventListener(`open`, () => {\n      console.log(`connected`)\n    })\n\n    this.ws.addEventListener(`close`, () => {\n      console.log(`connection closed`)\n    })\n\n    this.readCachedMessages()\n  }\n\n  async readCachedMessages() {\n    const messages = this.state.messages\n    put('messages/count', 1)\n    put('messages/1', {data: '1'})\n    const count = (await get('messages/count')).count\n    if (count) {\n      for (var i = 0; i < count; i++) {\n        const k = 'messages/' + (i+1)\n        console.log(k)\n        const msg = await get(k)\n        if (msg) {\n          console.log('MESSAGE', msg)\n          //messages.push(msg)\n        }\n      }\n    }\n\n    this.setState({messages})\n  }\n\n  sendArrayBuffer(arrayBuffer, mime) {\n    const abWithMime = arrayBufferWithMime(arrayBuffer, mime)\n    this.ws.send(abWithMime)\n  }\n\n  async handleIncomingMessage(event) {\n      const data = event.data\n\n      console.log('incoming...')\n\n      try {\n        const json = JSON.parse(data)\n        if (json.__server_message__) {\n          this.logMessage(json.__server_message__.data)\n          return false\n        }\n      } catch(error) {\n\n      }\n\n      updateWindowTitle()\n\n      const doc = document.createDocumentFragment()\n\n      console.log(data)\n\n      const {mime, arrayBuffer} = arrayBufferMimeDecouple(data)\n\n      console.log('received', mime)\n      console.log(arrayBuffer)\n\n      if (mime === 'shell') {\n        if (!this.term) {\n          this.term = new window.Terminal({\n            convertEol: true,\n            scrollback: 10000,\n            disableStdin: true,\n            cursorBlink: true\n          })\n          //let termNode = this.terminalRef.current\n          let termNode = document.querySelector('#terminal')\n          termNode.style.display = 'block'\n          this.term.open(termNode)\n          this.term.fit()\n          window.addEventListener('resize', () => {\n            this.term.fit()\n          })\n        }\n\n        const text = new window.TextDecoder('utf-8').decode(new Uint8Array(arrayBuffer))\n        console.log(text)\n        this.term.write(text)\n\n        return false\n      }\n\n      const blob = new Blob([arrayBuffer], {type: mime})\n\n      let ext = mime.split(`/`).join(`_`).replace(/[^\\w\\d_]/gi, ``)\n      let url = window.URL.createObjectURL(blob)\n\n      const t = await new Promise(resolve => {\n        const reader = new FileReader();\n        reader.onload = (event) => {\n          resolve(reader.result)\n        }\n\n        reader.readAsText(blob)\n      })\n\n      const message = {\n        blob,\n        url,\n        ext,\n        mime,\n        t\n      }\n\n      if (blob.size != 0) {\n        const messages = this.state.messages\n        messages.push(message)\n\n        this.setState({\n          messages\n        })\n      }\n\n      this.scrollToMessages()\n    }\n\n    scrollToMessages() {\n      window.scrollTo(0, this.output.current.offsetTop)\n    }\n\n  renderMessage(data) {\n    if (!data) {\n      return null\n    }\n    let { mime, blob, url, ext, t } = data\n      let clipboardNode = null\n      let element = null\n      let clipboardText = url\n\n      if (/image/gi.test(mime)) {\n        element = <img src={url} />\n      } else if (/video/gi.test(mime)) {\n        element = [<div>\n          <video src={url} controls=\"controls\" />\n        </div>]\n      } else if (/audio/gi.test(mime)) {\n        element = [<audio controlers=\"controls\" src={url}/>]\n      } else if (/zip/gi.test(mime)) {\n        element = [<span>.zip</span>]\n      } else if (/pdf/gi.test(mime)) {\n        element = [<span>.pdf</span>]\n      //} else if (/(json|javascript|text)/gi.test(mime)) {\n      } else {\n            // if the text is just an image url\n            if (/^https?:\\/\\/[^\\s\\r\\n]+(png|jpe?g|svg)$/i.test(t)) {\n              url = t\n              clipboardText = url\n              element = <div>\n                <img src={url} alt=\"\" />\n              </div>\n            } else {\n              let linked = hyperlinkify(t, {target: '_blank', rel: `noopener noreferrer`})\n              clipboardText = linked\n\n              element = <code\n                dangerouslySetInnerHTML={{__html: linked}} />\n            }\n      }\n\n      const filename = `${Date.now()}_${ext}`\n\n    return <div className=\"item\" key={url}>\n      <header>\n        <span>{blob.type} size: {blob.size}B</span>\n        <a\n          href={url}\n          target=\"_blank\"\n          rel=\"noopenner noreferrer\"\n          title=\"view asset\">{url}</a>\n      </header>\n      <article>\n        {element}\n      </article>\n      <footer>\n        <div>\n          <a\n            href={url}\n            download={filename}\n            title=\"download asset\"\n          >download</a>\n          <Clipboard\n            clipboardText={clipboardText}\n          />\n        </div>\n        <time>{(new Date()).toString()}</time>\n      </footer>\n    </div>\n  }\n\n  handleKeyPress(event) {\n    if (event.key === 'Enter' && event.shiftKey) {\n      this.handleSubmit(event)\n    }\n  }\n\n  handleDrop(files) {\n    this.addFilesToQueue(files)\n  }\n\n  addFilesToQueue(files) {\n    const list = this.state.queuedFiles\n    for (let file of files) {\n      list.push(file)\n    }\n    this.setState({\n      queuedFiles: list\n    })\n  }\n\n  clearFilesQueue() {\n    this.setState({\n      queuedFiles: []\n    })\n\n    this.fileInput.current.value = ''\n  }\n\n  onFileRemove(event, filename) {\n    this.removeFileFromQueue(filename)\n  }\n\n  removeFileFromQueue(filename) {\n    const list = this.state.queuedFiles\n    for (let [i, file] of list.entries()) {\n      if (file.name === filename) {\n        list.splice(i, 1)\n      }\n    }\n    this.setState({\n      queuedFiles: list\n    })\n  }\n\n  render() {\n    const items = this.state.messages.map(x => this.renderMessage(x))\n\n    return (\n      <main id=\"site-container\">\n        <Header\n          shareUrl={this.state.shareUrl}\n        />\n\n        <pre id=\"connections\"></pre>\n\n        <div style={{\n          position: 'relative',\n          with:'500px',\n          maxHeight:'500px',\n        }}>\n          <div id=\"terminal\" ref={this.terminalRef}></div>\n          <div className=\"terminal-footer\">\n            <a\n              href={this.state.fsUrl}\n              className=\"link terminal-full-screen\"\n              rel=\"noopener noreferrer\"\n            >\n              fullscreen\n            </a>\n          </div>\n        </div>\n\n        <MaxWidthContainer>\n          <output\n            id=\"output\"\n            ref={this.output}>\n            {items}\n          </output>\n          <form\n            id=\"form\"\n            onSubmit={event => this.handleSubmit(event)}>\n            <div className=\"form-group\">\n              <label>Text <small>shift-enter to submit</small></label>\n              <textarea\n                id=\"text\"\n                rows=\"5\"\n                cols=\"20\"\n                placeholder=\"text\"\n                value={this.state.text}\n                onKeyPress={event => this.handleKeyPress(event)}\n                onChange={event => this.setState({text: event.target.value})}></textarea>\n            </div>\n            <div className=\"form-group\">\n              <label>Files <small>Drag files into screen</small></label>\n              <div style={{\n                marginBottom: '0.5em'\n              }}>\n                <input\n                  type=\"file\"\n                  multiple\n                  id=\"file\"\n                  onChange={event => this.handleFileInputChange(event)}\n                  ref={this.fileInput} />\n              </div>\n              <div className=\"queued-files\">\n                {this.state.queuedFiles.map(file =>\n                  <Tag\n                    className=\"file-tag\"\n                    key={file.name}\n                    text={file.name}\n                    onDelete={event => this.onFileRemove(event, file.name)}/>\n                )}\n              </div>\n            </div>\n\n            <div className=\"form-group\">\n              <div>\n                <button\n                  type=\"submit\">\n                  Submit</button></div>\n            </div>\n          </form>\n        </MaxWidthContainer>\n        <DragAndDrop\n          handleDrop={files => this.handleDrop(files)}>\n        </DragAndDrop>\n      </main>\n    );\n  }\n}\n\nexport default Home;\n","import React, { Component } from 'react'\nimport MaxWidthContainer from './MaxWidthContainer'\nimport { GithubCircle, Twitter } from 'mdi-material-ui'\nimport moment from 'moment'\n\nclass Footer extends Component {\n  render() {\n    const year = moment().year()\n\n    return (\n        <footer id=\"footer\">\n          <MaxWidthContainer>\n            <div className=\"container\">\n              <div className=\"copyright\">\n                © {year} <img\n                  src=\"/assets/streamhut_gray.png\"\n                  alt=\"Streamhut\" />\n              </div>\n              <div className=\"social\">\n                <a\n                  href=\"https://github.com/streamhut\"\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                  title=\"Github @streamhut\">\n                  <GithubCircle />\n                  Github\n                </a>\n                <a\n                  href=\"https://twitter.com/streamhut\"\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                  title=\"Twitter @streamhut\">\n                  <Twitter />\n                  Twitter\n                </a>\n              </div>\n            </div>\n          </MaxWidthContainer>\n        </footer>\n    )\n  }\n}\n\nexport default Footer;\n","import React, { Component } from 'react'\nimport Footer from './Footer'\n\nclass Layout extends Component {\n  render() {\n    return (\n        [\n          this.props.children,\n          <Footer />\n        ]\n    )\n  }\n}\n\nexport default Layout;\n","import React, { Component } from 'react';\nimport Home from './Home'\nimport Layout from './Layout'\n\nclass App extends Component {\n  render() {\n    return (\n      <Layout>\n        <Home />\n      </Layout>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}