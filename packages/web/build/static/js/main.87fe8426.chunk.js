(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{3754:function(e,t,n){e.exports=n(3954)},3759:function(e,t,n){},3766:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=3766},3857:function(e,t){},3859:function(e,t){},3893:function(e,t){},3894:function(e,t){},3954:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(30),o=n.n(i),l=(n(3759),n(6)),s=n(7),c=n(9),u=n(8),d=n(10),m=n(4),f=n(5);function h(){var e=Object(m.a)(["\n    width: 100%;\n    max-width: 900px;\n    margin: 0 auto;\n  "]);return h=function(){return e},e}var p={Container:f.a.div(h())},g=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return a.a.createElement(p.Container,null,this.props.children)}}]),t}(r.Component);function v(){var e=Object(m.a)(["\n    display: flex;\n    background: #293238;\n    justify-content: center;\n    padding: 5em 2em;\n\n    div {\n      width: 100%;\n      text-align: center;\n      background: #151d21;\n      padding: 2em;\n      border-radius: 1em;\n      border: 1px solid #34434a;\n      max-width: 500px;\n    }\n\n    pre {\n      color: #fff;\n      font-size: 1.3em;\n    }\n  "]);return v=function(){return e},e}function b(){var e=Object(m.a)(["\n    display: flex;\n  "]);return b=function(){return e},e}function y(){var e=Object(m.a)(["\n    display: flex;\n    justify-content: center;\n    padding: 3em;\n\n    img {\n      width: 100%;\n      max-width: 300px;\n      height: auto;\n    }\n  "]);return y=function(){return e},e}function E(){var e=Object(m.a)(["\n    background: #efefef;\n  "]);return E=function(){return e},e}var w={Main:f.a.div(E()),Hero:f.a.div(y()),Container:f.a.div(b()),Example:f.a.div(v())},x=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return a.a.createElement(w.Main,{id:"site-container"},a.a.createElement(w.Hero,null,a.a.createElement("div",null,a.a.createElement("img",{src:"https://s3.amazonaws.com/assets.streamhut.io/streamhut_bb.png",alt:"logo"}))),a.a.createElement(w.Example,null,a.a.createElement("div",null,a.a.createElement("pre",null,"exec > >(nc streamhut.io 1337) 2>&1")),a.a.createElement("pre",null)),a.a.createElement(g,null,a.a.createElement(w.Container,null)))}}]),t}(r.Component),j=n(159),k=n(32),O=n.n(k),C=n(150),T=n(60),S=n(151),L=n.n(S),z=n(83),R=n(152),F=n.n(R),D=n(58),I=n.n(D),U=n(153),_=n.n(U),M=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"onClipboardCopy",value:function(e){var t=e.trigger;t.textContent="copied!",t.classList.add("copied"),setTimeout(function(){t.textContent="copy",t.classList.remove("copied")},3e3)}},{key:"render",value:function(){var e=this;return a.a.createElement(_.a,{className:this.props.className||"copy",style:this.props.style,id:this.props.id,title:"Copy to clipboard","data-clipboard-text":this.props.clipboardText,onSuccess:function(t){return e.onClipboardCopy(t)}},"copy")}}]),t}(r.Component),B=n(59),H=n.n(B),N=n(155),A=n.n(N),P=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return a.a.createElement(H.a,{className:"help-tooltip",title:this.props.text,"aria-label":this.props.text},a.a.createElement(A.a,{style:this.props.iconStyle}))}}]),t}(r.Component),q=n(80),W=n.n(q);function Q(){var e=Object(m.a)(["\n    width: 180px;\n    margin-right: 0.5em;\n    font-size: 0.7em;\n    background: #fff;\n    &:hover {\n      border-color: #ccc;\n      cursor: pointer;\n    }\n  "]);return Q=function(){return e},e}function G(){var e=Object(m.a)(["\n    margin-left: 2em;\n    a {\n      font-size: 12px;\n    }\n    label {\n      font-size: 12px;\n      margin-right: 0.4em;\n      display: block;\n      font-size: 0.7em;\n      color: #676767;\n      display: flex;\n      align-items: center;\n    }\n    .tooltip {\n      margin-left: 0.2em;\n    }\n  "]);return G=function(){return e},e}function K(){var e=Object(m.a)(["\n    margin-bottom: 0.4em;\n  "]);return K=function(){return e},e}function $(){var e=Object(m.a)(["\n    list-style: none;\n  "]);return $=function(){return e},e}function J(){var e=Object(m.a)(["\n    font-size: 2em;\n    font-weight: normal;\n    align-items: center;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n  "]);return J=function(){return e},e}function Y(){var e=Object(m.a)(["\n    margin: 0;\n    display: flex;\n    justify-content: space-between;\n    background: #efefef;\n    box-shadow: 0 1px 10px rgba(151,164,175,.1);\n    padding: 1em;\n  "]);return Y=function(){return e},e}var V={Header:f.a.header(Y()),Title:f.a.h1(J()),UL:f.a.li($()),LI:f.a.li(K()),Channel:f.a.div(G()),ShareUrlInput:f.a.input(Q())},X=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).shareUrl=a.a.createRef(),n.copyHelpText=a.a.createRef(),n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;new W.a(this.shareUrl.current,{text:function(t){return e.shareUrl.current.value}}).on("success",function(){var t=e.copyHelpText.current,n=t.textContent;t.textContent="copied!",setTimeout(function(){t.textContent=n},3e3)})}},{key:"shareUrlHandler",value:function(e){e.currentTarget.select()}},{key:"render",value:function(){var e=this;return a.a.createElement(V.Header,{id:"header"},a.a.createElement(g,null,a.a.createElement("hgroup",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"}},a.a.createElement(V.Title,null,a.a.createElement("a",{href:"/",title:"Home"},a.a.createElement("img",{style:{width:"150px",height:"auto"},src:"/assets/streamhut_bb.png",alt:"Streamhut"})),a.a.createElement(H.a,{className:"tooltip",classes:{root:{backgroundColor:"#ffffff",color:"rgba(0, 0, 0, 0.87)",fontSize:14}},title:a.a.createElement(a.a.Fragment,null,a.a.createElement("div",null,a.a.createElement("ul",null,a.a.createElement("li",null,"Stream and send data; web to web, terminal to web, or web to terminal."),a.a.createElement("li",null,"Nothing is stored, only streamed."),a.a.createElement("li",null,"Refreshing the page or closing tab will erase local data."),a.a.createElement("li",null,"Quickly share data and files between devices."),a.a.createElement("li",null,"URL path names map to channels."),a.a.createElement("li",null,"Anyone in the same channel can view what's streamed."))))},a.a.createElement("div",{style:{fontSize:"0.3em"}},"What is this?"))),a.a.createElement(V.Channel,null,a.a.createElement("label",null,"Channel URL",a.a.createElement(P,{text:"Share this URL for others to join and see your messages",iconStyle:{fontSize:"1.4em"}}),a.a.createElement("small",{ref:this.copyHelpText},"click to copy")),a.a.createElement(V.ShareUrlInput,{style:{borderRadius:"2px",padding:"0.5em",border:"1px solid #e0e0e0"},type:"text",placeholder:"share url",readOnly:!0,ref:this.shareUrl,value:this.props.shareUrl,onClick:function(t){return e.shareUrlHandler(t)}}),a.a.createElement(M,{clipboardText:this.props.shareUrl})),a.a.createElement("div",{style:{display:"flex",padding:"0.5em 0.5em 0.5em 2em",fontSize:"0.6em",color:"#222",lineHeight:"1.4"}},a.a.createElement("div",null,a.a.createElement(V.UL,null,a.a.createElement(V.LI,null,"CUI.LI examples:"),a.a.createElement(V.LI,null,"Tail: $",a.a.createElement("code",null,"tail -F file.log | nc streamhut.io 1337")),a.a.createElement(V.LI,null,"Tee: $",a.a.createElement("code",null,"(echo -n; sleep 5; htop) | tee >(nc streamhut.io 1337)")),a.a.createElement(V.LI,null,"Pipe shell: $",a.a.createElement("code",null,"exec > >(nc streamhut.io 1337) 2>&1")),a.a.createElement("li",null,a.a.createElement("a",{href:"https://github.com/miguelmota/streamhut",target:"_blank",rel:"noopener noreferrer"},"Developer documentation")," | ",a.a.createElement("a",{href:"https://github.com/miguelmota/streamhut/issues/new",target:"_blank",rel:"noopener noreferrer"},"Feedback"))))))))}}]),t}(r.Component),Z=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={drag:!1},n.dragCounter=0,n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"handleDrag",value:function(e){e.preventDefault(),e.stopPropagation()}},{key:"handleDragIn",value:function(e){e.preventDefault(),e.stopPropagation(),this.dragCounter++,e.dataTransfer.items&&e.dataTransfer.items.length>0&&this.setState({drag:!0})}},{key:"handleDragOut",value:function(e){e.preventDefault(),e.stopPropagation(),this.dragCounter--,0===this.dragCounter&&this.setState({drag:!1})}},{key:"handleDrop",value:function(e){e.preventDefault(),e.stopPropagation(),this.setState({drag:!1}),e.dataTransfer.files&&e.dataTransfer.files.length>0&&(this.props.handleDrop(e.dataTransfer.files),e.dataTransfer.clearData(),this.dragCounter=0)}},{key:"componentDidMount",value:function(){var e=this,t=document.body;t.addEventListener("dragenter",function(t){return e.handleDragIn(t)}),t.addEventListener("dragleave",function(t){return e.handleDragOut(t)}),t.addEventListener("dragover",function(t){return e.handleDrag(t)}),t.addEventListener("drop",function(t){return e.handleDrop(t)})}},{key:"componentWillUnmount",value:function(){var e=this,t=document.body;t.removeEventListener("dragenter",function(t){return e.handleDragIn(t)}),t.removeEventListener("dragleave",function(t){return e.handleDragOut(t)}),t.removeEventListener("dragover",function(t){return e.handleDrag(t)}),t.removeEventListener("drop",function(t){return e.handleDrop(t)})}},{key:"render",value:function(){return a.a.createElement("div",null,this.state.drag&&a.a.createElement("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",color:"#000",border:"4px dashed #0075ff",background:"rgba(255, 255, 255, 0.7)"}},a.a.createElement("div",{style:{border:"4px dashed #0075ff",fontSize:"2em",padding:"1em"}},"Drop file here")),this.props.children)}}]),t}(r.Component),ee=n(156),te=n.n(ee),ne=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return a.a.createElement(te.a,{label:this.props.text,onDelete:this.props.onDelete})}}]),t}(r.Component),re=(n(157),n(158)),ae=n.n(re),ie=n(84),oe=n.n(ie),le=n(85),se=n.n(le);function ce(){var e=Object(m.a)(["\n    width: 100%;\n    height: 10px;\n    position: absolute;\n    bottom: 0;\n    cursor: ns-resize;\n    background-color: #efefef;\n    border: 1px solid #cacaca;\n    text-align: center;\n    font-size: 0.5em;\n    color: #797979;\n    &:hover {\n      background-color: #e6e6e6;\n      border-color: #adadad;\n    }\n  "]);return ce=function(){return e},e}function ue(){var e=Object(m.a)(["\n    position: absolute;\n    bottom: 15px;\n    left: 0;\n    width: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: flex-end;\n    padding: 0 1em;\n  "]);return ue=function(){return e},e}function de(){var e=Object(m.a)(["\n    &.blur {\n      pointer-events: none;\n      opacity: 0.8;\n    }\n  "]);return de=function(){return e},e}function me(){var e=Object(m.a)(["\n    background-color: #000;\n    padding-bottom: 10px;\n    position: relative;\n    width: 100%;\n    height: auto;\n    overflow: hidden;\n  "]);return me=function(){return e},e}function fe(){var e=Object(m.a)(["\n    font-style: italic;\n    color: #7b7b7b;\n    font-size: 0.8em;\n  "]);return fe=function(){return e},e}function he(){var e=Object(m.a)(['\n    background: #efefef;\n    width: 100%;\n    font-size: 12px;\n    margin: 0 0 0.2em 0;\n\n    article {\n      display: flex;\n      margin: 10px 0 15px 0;\n      padding: 5px;\n    }\n\n    pre,\n    code {\n      width: 100%;\n      overflow: auto;\n      white-space: pre-wrap;\n      word-wrap: break-word;\n    }\n\n    img {\n      max-width: 500px;\n    }\n\n    header {\n      display: flex;\n      justify-content: space-between;\n      background: #e2e2e2;\n      font-size: 0.8em;\n      position: relative;\n      padding: 0.4em 2em 0.4em 0.4em;\n      overflow: hidden;\n    }\n\n    header:after {\n      content: "";\n      display: block;\n      position: absolute;\n      width: 2em;\n      height: 4em;\n      background: #fff;\n      right: 0;\n      top: 0;\n      transform: rotate(-45deg) translate(1.7em,-1em);\n    }\n\n    footer {\n      display: flex;\n      font-size: 0.8em;\n      justify-content: space-between;\n      background: #e2e2e2;\n      padding: 0.4em;\n    }\n\n    footer .download {\n      margin-right: 10px;\n    }\n\n    footer .left {\n      display: inline-flex;\n      align-items: flex-start;\n    }\n\n    time {\n      display: inline-flex;\n      align-items: flex-end;\n      font-size: 12px;\n      text-align: right;\n      color: #999;\n    }\n  ']);return he=function(){return e},e}function pe(){var e=Object(m.a)(["\n    display: inline-block;\n    width: auto;\n    max-height: 120px;\n    overflow: auto;\n    font-size: 0.8em;\n    white-space: pre-wrap;\n    margin-bottom: 2em;\n    background: rgba(239, 239, 239, 0.35);\n    padding: 1em;\n  "]);return pe=function(){return e},e}function ge(){var e=Object(m.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: start;\n    flex-direction: column;\n    margin: 0;\n    padding: 0.5em;\n\n    &.file-form-group {\n      min-width: 250px;\n    }\n    &.input-form-group {\n      width: 100%;\n    }\n    &.submit-form-group {\n    }\n  "]);return ge=function(){return e},e}function ve(){var e=Object(m.a)(["\n    display: flex;\n    justify-content: space-between;\n    width: 100%;\n    margin: 0;\n    background: #efefef;\n    padding: 10px;\n    position: relative;\n  "]);return ve=function(){return e},e}function be(){var e=Object(m.a)(["\n    display: flex;\n    justify-content: space-between;\n    background: #e2e2e2;\n    padding: 5px;\n    position: relative;\n    padding-right: 35px;\n  "]);return be=function(){return e},e}function ye(){var e=Object(m.a)(["\n  "]);return ye=function(){return e},e}var Ee=F()("ws://localhost:8765/gun");function we(e){var t=document.createElement("link"),n=document.getElementById("favicon");t.id="favicon",t.rel="icon",t.href=e,n&&document.head.removeChild(n),document.head.appendChild(t)}function xe(){document.hidden?(we("/favicon_alert.ico"),document.title="(new message) Streamhut"):je()}function je(){we("/favicon.ico"),document.title="Streamhut"}function ke(e){return Oe.apply(this,arguments)}function Oe(){return(Oe=Object(T.a)(O.a.mark(function e(t){return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){Ee.get(t).on(function(t,n){e(t)})}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ce(e,t){Ee.get(e).put(Object(C.a)({},e,t))}document.addEventListener("visibilitychange",function(){document.hidden||je()},!1);var Te={SiteContainer:f.a.main(ye()),Header:f.a.header(be()),Form:f.a.form(ve()),FormGroup:f.a.div(ge()),Connections:f.a.div(pe()),Message:f.a.div(he()),NoMessages:f.a.div(fe()),TerminalContainer:f.a.div(me()),Terminal:f.a.div(de()),TerminalFooter:f.a.footer(ue()),TerminalResizer:f.a.div(ce())},Se=function(e){function t(e){var n;Object(l.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).onWindowResize=oe()(function(){n.term.fit()},20),n.onTerminalResizer=function(e){e.offsetY<n.borderSize&&(n.pos=e.y,document.addEventListener("mousemove",n.resizeTerminal,!1))},n.resizeTerminal=oe()(function(e){var t=n.terminalContainerRef.current,r=n.terminalRef.current,a=n.pos-e.y;n.pos=e.y;var i=parseInt(getComputedStyle(t,"").height)-a;t.style.height=i+"px",r.style.height=i-n.borderSize+"px",n.term.fit()},20),n.state={text:"",file:null,messages:[],shareUrl:window.location.href,fullScreen:!1,queuedFiles:[],fsUrl:""},"f"in window.location.search.substr(1).split("&").map(function(e){return e.split("=")}).reduce(function(e,t){return e[t[0]]=t[1],e},{})&&n.setFullScreen();var r=window.location.pathname,i=window.location.search;return n.state.fsUrl="".concat(r).concat(i).concat(i.length?"&":"?","f=1"),n.output=a.a.createRef(),n.fileInput=a.a.createRef(),n.terminalRef=a.a.createRef(),n.terminalContainerRef=a.a.createRef(),n.terminalResizerRef=a.a.createRef(),n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"setFullScreen",value:function(){document.body.classList.add("fullscreen")}},{key:"handleInput",value:function(){var e=this,t=this.state.text;if(t){var n=new Blob([t],{type:"text/plain"}),r=new FileReader;r.addEventListener("load",function(t){var n=r.result;e.sendArrayBuffer(n,"text/plain")}),r.readAsArrayBuffer(n),this.setState({text:""})}}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.handleInput(),this.handleFile(),this.setState({text:""})}},{key:"handleFileInputChange",value:function(e){e.preventDefault(),this.addFilesToQueue(e.target.files)}},{key:"handleFile",value:function(){for(var e=this,t=this.state.queuedFiles,n=function(n){var r=t[n];if(console.log("file:",r,r.type),!r)return{v:void 0};var a=new FileReader;a.addEventListener("load",function(t){var n=a.result,i=r.type;e.sendArrayBuffer(n,i)}),a.readAsArrayBuffer(r)},r=0;r<t.length;r++){var a=n(r);if("object"===typeof a)return a.v}this.clearFilesQueue()}},{key:"componentDidMount",value:function(){var e=this;this.term=new window.Terminal({allowTransparency:!1,bellStyle:"none",bellSound:"",convertEol:!0,scrollback:1e4,disableStdin:!0,cursorStyle:"block",cursorBlink:!0,drawBoldTextInBrightColors:!0,fontSize:5});var t=this.terminalRef.current;t.style.display="block",this.term.open(t),this.term.fit(),window.addEventListener("resize",this.onWindowResize,!1);var n,r=(n="exec > >(nc streamhut.io 1337) 2>&1","".concat(se.a.greenBright.open).concat(n).concat(se.a.greenBright.close));this.term.writeln("To get started, run in your terminal:\n\n".concat(r,"\n")),this.setupTerminalResizer(),this.term.on("blur",function(){e.terminalRef.current.classList.add("blur")}),this.term.on("key",function(t,n){27===n.keyCode&&e.blurTerminal()}),this.ws=function(){var e=window.location,t=e.pathname,n=e.host,r=e.protocol,a="".concat("https:"===r?"wss":"ws","://").concat(n).concat(t),i=new WebSocket(a);return i.binaryType="arraybuffer",i}(),this.ws.addEventListener("message",function(t){e.handleIncomingMessage(t)}),this.ws.addEventListener("open",function(){console.log("connected")}),this.ws.addEventListener("close",function(){console.log("connection closed")}),this.readCachedMessages(),document.addEventListener("keydown",function(t){27===t.keyCode&&e.blurTerminal()})}},{key:"componentDidUnmount",value:function(){this.terminalResizerRef.current.removeEventListener("mousedown",this.onTerminalResizer,!1),window.removeEventListener("resize",this.onWindowResize,!1)}},{key:"focusTerminal",value:function(){this.terminalRef.current.classList.remove("blur"),this.term.focus()}},{key:"blurTerminal",value:function(){this.terminalRef.current.classList.add("blur")}},{key:"setupTerminalResizer",value:function(){var e=this,t=this.terminalResizerRef.current;this.borderSize=parseInt(getComputedStyle(t,"").height),this.pos=0,t.addEventListener("mousedown",this.onTerminalResizer,!1),document.addEventListener("mouseup",function(t){document.removeEventListener("mousemove",e.resizeTerminal,!1)},!1)}},{key:"readCachedMessages",value:function(){var e=Object(T.a)(O.a.mark(function e(){var t,n,r,a,i;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.messages,Ce("messages/count",1),Ce("messages/1",{data:"1"}),e.next=5,ke("messages/count");case 5:if(!(n=e.sent.count)){e.next=18;break}r=0;case 8:if(!(r<n)){e.next=18;break}return a="messages/"+(r+1),console.log(a),e.next=13,ke(a);case 13:(i=e.sent)&&console.log("MESSAGE",i);case 15:r++,e.next=8;break;case 18:this.setState({messages:t});case 19:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"sendArrayBuffer",value:function(e,t){var n=Object(z.arrayBufferWithMime)(e,t);try{this.ws.send(n)}catch(r){console.error(r)}}},{key:"handleIncomingMessage",value:function(){var e=Object(T.a)(O.a.mark(function e(t){var n,r,a,i,o,l,s,c,u,d,m,f;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.data,console.log("incoming..."),e.prev=2,!(r=JSON.parse(n)).__server_message__){e.next=7;break}return this.logMessage(r.__server_message__.data),e.abrupt("return",!1);case 7:e.next=11;break;case 9:e.prev=9,e.t0=e.catch(2);case 11:if(xe(),console.log(n),a=Object(z.arrayBufferMimeDecouple)(n),i=a.mime,o=a.arrayBuffer,console.log("received",i),console.log(o),"shell"!==i){e.next=21;break}return l=new window.TextDecoder("utf-8").decode(new Uint8Array(o)),console.log(l),this.term.write(l),e.abrupt("return",!1);case 21:return s=new Blob([o],{type:i}),c=i.split("/").join("_").replace(/[^\w\d_]/gi,""),u=window.URL.createObjectURL(s),e.next=26,new Promise(function(e){var t=new FileReader;t.onload=function(n){e(t.result)},t.readAsText(s)});case 26:d=e.sent,m={blob:s,url:u,ext:c,mime:i,t:d},0!==s.size&&((f=this.state.messages).push(m),this.setState({messages:f})),this.scrollToLatestMessages();case 30:case"end":return e.stop()}},e,this,[[2,9]])}));return function(t){return e.apply(this,arguments)}}()},{key:"scrollToLatestMessages",value:function(){var e=this.output.current;e.scrollTop+200>=e.scrollHeight-e.clientHeight&&e.scrollTo(0,e.scrollHeight)}},{key:"renderMessage",value:function(e){if(!e)return null;var t=e.mime,n=e.blob,r=e.url,i=e.ext,o=e.t,l=null,s=r;if(/image/gi.test(t))l=a.a.createElement("a",{href:r,target:"_blank",rel:"noopener noreferrer",title:"view image"},a.a.createElement("img",{src:r,alt:""}));else if(/video/gi.test(t))l=[a.a.createElement("div",null,a.a.createElement("video",{src:r,controls:"controls"}))];else if(/audio/gi.test(t))l=[a.a.createElement("audio",{controlers:"controls",src:r})];else if(/zip/gi.test(t))l=[a.a.createElement("span",null,".zip")];else if(/pdf/gi.test(t))l=[a.a.createElement("span",null,".pdf")];else if(/^https?:\/\/[^\s\r\n]+(png|jpe?g|svg)$/i.test(o))s=r=o,l=a.a.createElement("div",null,a.a.createElement("img",{src:r,alt:""}));else{var c=L()(o,{target:"_blank",rel:"noopener noreferrer"});s=c,l=a.a.createElement("code",{dangerouslySetInnerHTML:{__html:c}})}var u="".concat(Date.now(),"_").concat(i),d=I()().format("LLLL");return a.a.createElement(Te.Message,{key:r},a.a.createElement(Te.Header,null,a.a.createElement("span",null,n.type," size: ",ae()(n.size)),a.a.createElement("a",{href:r,target:"_blank",rel:"noopener noreferrer",title:"view asset"},r,"\u2197")),a.a.createElement("article",null,l),a.a.createElement("footer",null,a.a.createElement("div",null,a.a.createElement("a",{href:r,download:u,title:"download asset"},"download"),a.a.createElement(M,{style:{fontSize:"1em",marginLeft:"1em"},clipboardText:s})),a.a.createElement("time",null,d)))}},{key:"handleKeyPress",value:function(e){"Enter"===e.key&&(e.shiftKey||e.ctrlKey||e.altKey)?e.shiftKey||this.setState({text:this.state.text+"\n"}):"Enter"===e.key&&this.handleSubmit(e)}},{key:"handleDrop",value:function(e){this.addFilesToQueue(e)}},{key:"addFilesToQueue",value:function(e){var t=this.state.queuedFiles,n=!0,r=!1,a=void 0;try{for(var i,o=e[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var l=i.value;t.push(l)}}catch(s){r=!0,a=s}finally{try{n||null==o.return||o.return()}finally{if(r)throw a}}this.setState({queuedFiles:t})}},{key:"clearFilesQueue",value:function(){this.setState({queuedFiles:[]}),this.fileInput.current.value=""}},{key:"onFileRemove",value:function(e,t){this.removeFileFromQueue(t)}},{key:"removeFileFromQueue",value:function(e){var t=this.state.queuedFiles,n=!0,r=!1,a=void 0;try{for(var i,o=t.entries()[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var l=i.value,s=Object(j.a)(l,2),c=s[0];s[1].name===e&&t.splice(c,1)}}catch(u){r=!0,a=u}finally{try{n||null==o.return||o.return()}finally{if(r)throw a}}this.setState({queuedFiles:t})}},{key:"render",value:function(){var e=this,t=a.a.createElement(Te.NoMessages,null,"no messages");return this.state.messages.length&&(t=this.state.messages.map(function(t){return e.renderMessage(t)})),a.a.createElement(Te.SiteContainer,{id:"site-container"},a.a.createElement(X,{shareUrl:this.state.shareUrl}),a.a.createElement(Te.TerminalContainer,{ref:this.terminalContainerRef,onClick:function(t){return e.focusTerminal()}},a.a.createElement(Te.Terminal,{id:"terminal",style:{height:"350px"},ref:this.terminalRef}),a.a.createElement(Te.TerminalFooter,null,a.a.createElement("a",{href:this.state.fsUrl,className:"link terminal-full-screen",rel:"noopener noreferrer"},"fullscreen")),a.a.createElement(Te.TerminalResizer,{ref:this.terminalResizerRef},"\u2630")),a.a.createElement("div",null,a.a.createElement("output",{id:"output",ref:this.output},t),a.a.createElement(Te.Form,{id:"form",onSubmit:function(t){return e.handleSubmit(t)}},a.a.createElement(Te.FormGroup,{className:"file-form-group"},a.a.createElement("label",null,"Files ",a.a.createElement("small",null,"Drag files into screen")),a.a.createElement("div",{style:{marginBottom:"0.5em"}},a.a.createElement("input",{type:"file",multiple:!0,id:"file",onChange:function(t){return e.handleFileInputChange(t)},ref:this.fileInput})),a.a.createElement("div",{className:"queued-files"},this.state.queuedFiles.map(function(t){return a.a.createElement(ne,{className:"file-tag",key:t.name,text:t.name,onDelete:function(n){return e.onFileRemove(n,t.name)}})}))),a.a.createElement(Te.FormGroup,{className:"input-form-group",style:{width:"100%"}},a.a.createElement("label",null,"Text ",a.a.createElement("small",null,"enter to submit and shift-enter for newline")),a.a.createElement("textarea",{id:"text",rows:"2",placeholder:"text",value:this.state.text,onKeyPress:function(t){return e.handleKeyPress(t)},onChange:function(t){return e.setState({text:t.target.value})}})),a.a.createElement(Te.FormGroup,{className:"submit-form-group"},a.a.createElement("div",null,a.a.createElement("button",{type:"submit"},"Send"))))),a.a.createElement(Z,{handleDrop:function(t){return e.handleDrop(t)}}))}}]),t}(r.Component),Le=n(86);function ze(){var e=Object(m.a)(["\n    display: flex;\n    align-items: center;\n    vertical-align: middle;\n    a {\n      display: inline-flex;\n      align-items: center;\n      margin-left: 1em;\n    }\n  "]);return ze=function(){return e},e}function Re(){var e=Object(m.a)(["\n    font-weight: bold;\n    display: flex;\n    align-items: center;\n    color: #b1b1b1;\n  "]);return Re=function(){return e},e}function Fe(){var e=Object(m.a)(["\n    display: flex;\n    justify-content: space-between;\n  "]);return Fe=function(){return e},e}function De(){var e=Object(m.a)(["\n    font-size: 1em;\n    padding: 1em;\n    text-align: right;\n    width: 100%;\n    background: #293238;\n  "]);return De=function(){return e},e}var Ie={Footer:f.a.footer(De()),Container:f.a.footer(Fe()),Copyright:f.a.div(Re()),Social:f.a.div(ze())},Ue=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=I()().year();return a.a.createElement(Ie.Footer,{id:"footer"},a.a.createElement(g,null,a.a.createElement(Ie.Container,null,a.a.createElement(Ie.Copyright,null,"\xa9 ",e," ",a.a.createElement("img",{style:{width:"100px",marginLeft:"0.4em"},src:"/assets/streamhut_gray.png",alt:"Streamhut"})),a.a.createElement(Ie.Social,null,a.a.createElement("a",{href:"https://github.com/streamhut",target:"_blank",rel:"noopener noreferrer",title:"Github @streamhut"},a.a.createElement(Le.a,null),"Github"),a.a.createElement("a",{href:"https://twitter.com/streamhut",target:"_blank",rel:"noopener noreferrer",title:"Twitter @streamhut"},a.a.createElement(Le.b,null),"Twitter")))))}}]),t}(r.Component),_e=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return[this.props.children,a.a.createElement(Ue,null)]}}]),t}(r.Component),Me=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=a.a.createElement(x,null);return"/"!==window.location.pathname&&(e=a.a.createElement(Se,null)),a.a.createElement(_e,null,e)}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(Me,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[3754,1,2]]]);
//# sourceMappingURL=main.87fe8426.chunk.js.map